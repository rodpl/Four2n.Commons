<?xml version="1.0" encoding="utf-8"?>
<!--
    ======================================================
        Common file file which is run after MS targets
    ======================================================
-->
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003" ToolsVersion="3.5">

    <!--
    <PropertyGroup>
        <StyleCopDependsOn>$(StyleCopDependsOn);IncludeOnlyModifiedFilesForSourceAnalysis</StyleCopDependsOn>
    </PropertyGroup>
    -->

    <PropertyGroup Condition="$(StyleCopEnabled) == ''" >
        <StyleCopEnabled>true</StyleCopEnabled>
    </PropertyGroup>
    
    <Import Project="$(StyleCopPath)\Microsoft.StyleCop.Targets"/>

    <Target Name="IncludeOnlyModifiedFilesForSourceAnalysis">
        <Message Text="itsme"/>
        <Message Text="$(MSBuildProjectDirectory)\%(Compile.Identity)"/>
        
        <SvnVersion LocalPath="$(MSBuildProjectDirectory)\%(Compile.Identity)" ContinueOnError="false">
            <Output TaskParameter="Modifications" ItemName="SvnModified" />
        </SvnVersion>
        <Message Text="itsme @(SvnModified)"/>
    </Target>


    <Target Name="BeforeCompile" DependsOnTargets="SetIsCompileUpToDate">
        <CallTarget Targets="IncludeGeneratedAssemblyInfo" Condition="$(IsCompileUpToDate) == 'false'" />
    </Target>

    <!-- User targets can be run as the lastest -->
    <Import Condition="Exists('$(RootPath)\After.Microsoft.Common.User.Targets')" Project="$(RootPath)\After.Microsoft.Common.User.Targets" />
</Project>
